"use strict";var nine={sticky:!1,fullscreen:!1,currentPageIndex:null,currentPage:null,canScroll:!0,scrollDuration:750,scrollContainer:document.getElementById("scroll"),pages:document.querySelectorAll(".section"),scrollDirection:null,prevTime:(new Date).getTime(),scrollHistory:[],windowHeight:null};String.prototype.includes||(String.prototype.includes=function(e,n){return"number"!=typeof n&&(n=0),!(n+e.length>this.length)&&-1!==this.indexOf(e,n)}),nine.checkFullscreen=function(){var e=!0,n=nine.windowSize().h;return nine.pages.forEach(function(t){t.offsetHeight>n&&(e=!1)}),e},nine.enableFullscreen=function(){nine.checkFullscreen()?(nine.fullscreen=!0,document.body.classList.add("fullscreen"),nine.windowHeight=nine.windowSize().h):(nine.fullscreen=!1,document.body.classList.remove("fullscreen"),nine.windowHeight=nine.windowSize().h)},nine.checkSticky=function(){var e=document.createElement("a"),n=e.style;n.cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;";var t=-1!==n.position.indexOf("sticky");nine.windowSize().h;return t},nine.enableSticky=function(){nine.checkSticky()&&nine.checkFullscreen()?(nine.sticky=!0,nine.fullscreen=!0,document.body.classList.add("sticky-enabled")):(nine.sticky=!1,document.body.classList.remove("sticky-enabled"))},nine.changeHeaderClass=function(e){document.querySelector(".header").setAttribute("class","header "+e)},nine.animateLoad=function(){window.setTimeout(function(){document.body.classList.add("faded-in"),nine.masonaryHeight(),window.setTimeout(function(){var e=document.querySelectorAll(".hide-left");Array.prototype.forEach.call(e,function(e){e.classList.remove("hide-left")});var e=document.querySelectorAll(".hide-down");Array.prototype.forEach.call(e,function(e){e.classList.remove("hide-down")})},1e3)},1e3)},nine.animatePortrait=function(){var e=document.querySelector(".portrait .faded");if(e){var n=function(){var n=document.documentElement.scrollTop||nine.scrollContainer.scrollTop;nine.windowSize().w>1280?o=.5:nine.windowSize().w<1024&&(i=t.offsetHeight+document.getElementById("intro").offsetHeight-e.offsetHeight),n>i*o?0==e.style.opacity&&(e.style.opacity=1):1==e.style.opacity&&(e.style.opacity=0)},t=document.getElementById("about"),i=t.offsetTop,o=.98;nine.scrollContainer.addEventListener("scroll",function(){n()})}},nine.pageTransisition=function(e,n){n||(n="#E6E6E4"),document.body.style.backgroundColor=n,document.body.classList.add("faded-out"),setTimeout(function(){window.location.href=e},600)},nine.masonaryHeight=function(){var e=document.querySelector(".masonary"),n=0,t=0;if(e)if(nine.windowSize().w>=1024){var i=document.querySelectorAll(".block.left"),o=document.querySelectorAll(".block.right");Array.prototype.forEach.call(i,function(e){n+=e.offsetHeight}),Array.prototype.forEach.call(o,function(e){t+=e.offsetHeight});var r=void 0;r=n>=t?n:t,r+=100,e.style.height=r+"px"}else e.style.height="auto"},nine.animateLinks=function(){var e=document.getElementsByTagName("a");Array.prototype.forEach.call(e,function(e){e.onclick=function(){return nine.pageTransisition(this.href,e.getAttribute("data-bg"),e.getAttribute("data-slide")),!1}})},nine.setCurrentPage=function(){var e=nine.getHash();if(e){var n=document.getElementById(e);n&&(nine.updateCurrent(n),nine.scrollStart(n),nine.scrollToSection(n.id))}else nine.updateCurrent(document.querySelectorAll(".section")[0])},nine.updateHash=function(e){window.location.hash=e},nine.hashChangeLisener=function(){document.addEventListener?window.addEventListener("hashchange",nine.hashChangeHandler,!1):window.attachEvent("onhashchange",nine.hashChangeHandler)},nine.hashChangeHandler=function(){var e=nine.getHash();e&&e!=nine.currentPage&&nine.scrollToSection(e)},nine.scrollToSection=function(e,n){var t=document.getElementById(e);if(null!=t){var i=nine.scrollDuration,o=nine.calculateDestiny(t,n);nine.animateScoll(o,t,i)}},nine.calculateOffset=function(){var e=0;if(nine.sticky){if(nine.currentPageIndex+1<nine.pages.length){var n,t=document.getElementById(nine.pages[nine.currentPageIndex+1].id).offsetTop;n=nine.currentPageIndex-1>=0?nine.pages[nine.currentPageIndex-1].id:nine.pages[nine.currentPageIndex].id;var i=document.getElementById(n),o=i.offsetTop+i.offsetHeight;t!=o&&(e=o-t)}else{var r=document.documentElement.scrollTop||nine.scrollContainer.scrollTop,c=document.getElementById(nine.pages[nine.currentPageIndex].id).offsetTop;r!=c&&(e=r-c)}return e}return 0},nine.calculateGap=function(e,n,t){for(var i=Math.abs(nine.currentPageIndex-e)-1,o=1;o<=i;o++){nine.pages[nine.currentPageIndex-o].id;t+=n.offsetHeight}return t+=nine.calculateOffset()},nine.calculateDestiny=function(e,n){void 0===n&&(n=0);var t=nine.getSectionIndex(e);return t>nine.currentPageIndex?nine.scrollDirection="down":t<nine.currentPageIndex&&(nine.scrollDirection="up",nine.sticky&&(n=nine.calculateGap(t,e,n))),"up"===nine.scrollDirection&&!0===nine.sticky?e.offsetTop-e.offsetHeight-n:e.offsetTop-n},nine.animateScoll=function(e,n,t){function i(n){n==e&&(cancelAnimationFrame(c),o())}function o(){nine.canScroll=!0,nine.scrollDirection=null,nine.scrollEnd(n)}if(null!=e){var r=nine.getScrolledPosition();nine.canScroll=!1,null==t&&(t=nine.scrollDuration);var c,l,a,s=e-r,u=0,d=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},f=function n(){u+=16,l=u/t,l>1?(l=1,a=e):a=r+s*d(l),nine.scrollContainer.scrollTop=a,c=requestAnimationFrame(n),i(a)};nine.scrollStart(n),c=requestAnimationFrame(f)}},nine.scrollStart=function(e){e.classList.value.includes("light")?nine.changeHeaderClass("dark"):nine.changeHeaderClass("light"),setTimeout(function(){var n=document.querySelector(".section.active");n&&(nine.removeClass(n,"active"),nine.removeClass(document.body,n.id+"-active")),nine.addClass(e,"active"),nine.updateControls(nine.getSectionIndex(e))},.33*nine.scrollDuration)},nine.scrollEnd=function(e){null!=e&&(nine.updateHash(e.id),nine.updateCurrent(e),nine.updateControls(),nine.addClass(document.body,e.id+"-active"))},nine.updateCurrent=function(e){nine.currentPage=e.id,nine.currentPageIndex=nine.getSectionIndex(e)},nine.getScrolledPosition=function(){return document.documentElement.scrollTop||nine.scrollContainer.scrollTop},nine.resetPosition=function(){if(1==nine.fullscreen){var e,n;if(null!=nine.currentPage)var e=document.getElementById(nine.currentPage);else{var e=document.querySelectorAll(".sections")[0];nine.currentPage=e.id,nine.currentPageIndex=0}var t=nine.calculateOffset();n=nine.sticky&&t>0?e.offsetTop-t:e.offsetTop,nine.animateScoll(n,e,0)}},nine.addFullscreenNav=function(){var e=document.querySelector(".controls");if(e){e.classList.add("on");var n=document.querySelector(".dots");n&&(Array.prototype.forEach.call(nine.pages,function(e,t){var i=document.createElement("li");i.setAttribute("data-page",t),n.appendChild(i),i.addEventListener("click",function(e){return nine.dotClick(e)})}),document.querySelector(".dots li").classList.add("active"),document.querySelector(".next").addEventListener("click",nine.arrowNextClickHandler),document.querySelector(".prev").addEventListener("click",nine.arrowPrevClickHandler),nine.updateControls())}},nine.removeFullscreenNav=function(){var e=document.querySelector(".controls");if(e){e.classList.remove("on");var n=document.querySelector(".dots"),t=document.querySelectorAll(".dots li");n&&t&&(Array.prototype.forEach.call(t,function(e){e.parentNode.removeChild(e)}),document.querySelector(".next").removeEventListener("click",nine.arrowNextClickHandler),document.querySelector(".prev").removeEventListener("click",nine.arrowPrevClickHandler))}},nine.arrowNextClickHandler=function(){nine.nextPage()},nine.arrowPrevClickHandler=function(){nine.prevPage()},nine.dotClick=function(e,n){null==n&&(n=!1),document.querySelector(".dots li.active").classList.remove("active");var t=e.target.getAttribute("data-page");document.querySelectorAll(".dots li")[t].classList.add("active");var i=nine.pages[t].id;nine.canScroll?nine.scrollToSection(i):0==n&&setTimeout(function(){nine.dotClick(e,!0)},nine.scrollDuration)},nine.updateControls=function(e){e=null==e&&null==nine.currentPageIndex?0:nine.currentPageIndex,document.querySelector(".dots li.active")&&document.querySelector(".dots li.active").classList.remove("active"),document.querySelectorAll(".dots li")[e].classList.add("active"),document.querySelector(".next").classList.remove("disabled"),document.querySelector(".prev").classList.remove("disabled"),0==e&&document.querySelector(".prev").classList.add("disabled"),e==nine.pages.length-1&&document.querySelector(".next").classList.add("disabled")},nine.nextPage=function(e){if(null==e&&(e=!1),nine.currentPageIndex+1<nine.pages.length&&nine.canScroll){var n=nine.pages[nine.currentPageIndex+1].id;return nine.scrollToSection(n),!0}return nine.currentPageIndex+1<nine.pages.length&&0==e&&setTimeout(function(){nine.nextPage(!0)},nine.scrollDuration),!1},nine.prevPage=function(e){if(null==e&&(e=!1),nine.currentPageIndex-1>=0&&nine.canScroll){var n=nine.pages[nine.currentPageIndex-1].id;return nine.scrollToSection(n),!0}return nine.currentPageIndex-1>=0&&0==e&&setTimeout(function(){nine.prevPage(!0)},nine.scrollDuration),!1},nine.addKeyboardNav=function(){document.onkeydown=function(e){e||(e=window.event);var n=e.keyCode;switch(e.charCode&&0==n&&(n=e.charCode),n){case 38:e.preventDefault(),nine.prevPage();break;case 40:case 32:e.preventDefault(),nine.nextPage();break;case 33:e.preventDefault(),nine.prevPage();break;case 34:e.preventDefault(),nine.nextPage()}}},nine.removeKeyboardNav=function(){document.onkeydown=null},nine.addScrollInput=function(){var e=window;e.addEventListener?e.addEventListener("mousewheel",nine.mouseWheelHandler,!1):e.attachEvent("onmousewheel",nine.mouseWheelHandler)},nine.removeScrollInput=function(){var e=window;e.addEventListener?(e.removeEventListener("mousewheel",nine.mouseWheelHandler,!1),e.removeEventListener("wheel",nine.mouseWheelHandler,!1)):e.detachEvent("onmousewheel",nine.mouseWheelHandler)},nine.mouseWheelHandler=function(e){function n(e,n){for(var t=0,i=e.slice(Math.max(e.length-n,1)),o=0;o<i.length;o++)t+=i[o];return Math.ceil(t/n)}nine.preventDefault(e);var t=(new Date).getTime();e=window.event||e||e.originalEvent;var i=e.wheelDelta||-e.deltaY||-e.detail,o=Math.max(-1,Math.min(1,i));nine.scrollHistory.length>149&&nine.scrollHistory.shift(),nine.scrollHistory.push(Math.abs(i));var r=t-nine.prevTime;if(nine.prevTime=t,r>200&&(nine.scrollHistory=[]),nine.canScroll){n(nine.scrollHistory,10)>=n(nine.scrollHistory,70)&&(o<0?nine.scrolling("down"):nine.scrolling("up"))}return!1},nine.scrolling=function(e){"down"==e?nine.nextPage():nine.prevPage()},nine.getHash=function(){return window.location.hash.replace("#","").split("/")[0]},nine.addClass=function(e,n){e&&!nine.hasClass(e,n)&&e.classList.add(n)},nine.removeClass=function(e,n){e&&nine.hasClass(e,n)&&e.classList.remove(n)},nine.hasClass=function(e,n){return e.classList.contains(n)},nine.getSectionIndex=function(e){var n;return Array.prototype.forEach.call(nine.pages,function(t,i){t==e&&(n=i)}),n},nine.windowSize=function(e){if(e=e||window,null!=e.innerWidth)return{w:e.innerWidth,h:e.innerHeight};var n=e.document;return"CSS1Compat"==document.compatMode?{w:n.documentElement.clientWidth,h:n.documentElement.clientHeight}:{w:n.body.clientWidth,h:n.body.clientHeight}},nine.debounce=function(e,n,t){var i;return function(){var o=this,r=arguments,c=function(){i=null,t||e.apply(o,r)},l=t&&!i;clearTimeout(i),i=setTimeout(c,n),l&&e.apply(o,r)}},nine.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},nine.fullscreenMode=function(e){if(nine.checkFullscreen()&&0==nine.fullscreen?(nine.enableFullscreen(),nine.enableSticky(),nine.hashChangeLisener(),nine.addFullscreenNav(),nine.addKeyboardNav(),nine.addScrollInput(),nine.setCurrentPage()):0==nine.checkFullscreen()&&1==nine.fullscreen&&(nine.enableFullscreen(),nine.enableSticky(),nine.removeFullscreenNav(),nine.removeKeyboardNav(),nine.removeScrollInput()),e)nine.resetPosition();else{var n=nine.debounce(function(){nine.fullscreenMode(!0)},250);window.addEventListener("resize",n)}},document.addEventListener("DOMContentLoaded",function(){nine.masonaryHeight(),nine.animateLinks(),window.addEventListener("resize",function(){nine.masonaryHeight()}),nine.fullscreenMode()}),window.onload=function(){nine.animateLoad(),nine.masonaryHeight()};
//# sourceMappingURL=./main-min.js.map