{"version":3,"sources":["../main.js"],"names":["nine","fullscreen","currentPageIndex","currentPage","canScroll","scrollDuration","scrollContainer","document","getElementById","pages","querySelectorAll","scrollDirection","prevTime","Date","getTime","scrollHistory","fullScreenWidthEnableFrom","fullScreenHeightEnableFrom","supports3d","isTouchDevice","navigator","userAgent","match","isTouch","window","msMaxTouchPoints","maxTouchPoints","touchStartY","touchEndY","touchSensitivity","support3d","toLowerCase","indexOf","el","createElement","has3d","transforms","webkitTransform","OTransform","msTransform","MozTransform","transform","body","insertBefore","t","undefined","style","getComputedStyle","getPropertyValue","removeChild","length","checkFullscreen","windowHeight","windowSize","h","windowWidth","w","enableFullscreen","html","getElementsByTagName","addClass","css","overflow","Array","prototype","forEach","call","height","minHeight","removeClass","changeHeaderClass","className","querySelector","setAttribute","animateLoad","setTimeout","classList","add","masonaryHeight","hidden","remove","animatePortrait","addEventListener","portraitChange","page","offsetTop","portrait","getScrolledPosition","opacity","pageTransisition","href","bg","backgroundColor","location","animateLinks","anchorElements","onclick","getAttribute","masonary","lheight","rheight","lblocks","rblocks","offsetHeight","fullscreenMode","debounced","hashChangeLisener","addFullscreenNav","addKeyboardNav","addScrollInput","setCurrentPage","enableTouch","removeFullscreenNav","removeKeyboardNav","removeScrollInput","disableTouch","resetPosition","fullscreenModeDebounced","debounce","section","getHash","element","updateCurrent","scrollStart","scrollToSection","id","updateHash","url","hash","hashChangeHandler","attachEvent","elementId","duration","newIndex","getSectionIndex","destiny","translateScroll","animateScroll","endLocation","translate3d","transition","-webkit-transition","translatePortrait","setTransforms","scrollEnd","top","appVersion","portraitPosition","removeAttribute","scroll","now","performance","time","Math","min","startTime","timeFunction","easing","position","ceil","destinationOffsetToScroll","start","scrollTop","requestAnimationFrame","contains","header","activePages","updateControls","documentElement","controls","nav","i","dot","appendChild","dotClick","arrowNextClickHandler","arrowPrevClickHandler","dots","parentNode","removeEventListener","nextPage","prevPage","repeat","newPageIndex","target","onkeydown","event","code","keyCode","charCode","preventDefault","wrapper","mouseWheelHandler","detachEvent","e","getAverage","elements","number","sum","lastElements","slice","max","curTime","originalEvent","value","wheelDelta","deltaY","detail","delta","shift","push","abs","timeDiff","touchStartHandler","passive","touchMoveHandler","isReallyTouch","touchEvents","getEventsPage","y","touchStartX","x","pointerType","events","pageY","pageX","touches","replace","split","hasClass","index","innerWidth","innerHeight","d","compatMode","clientWidth","clientHeight","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","returnValue","-webkit-transform","-moz-transform","-ms-transform","props","key","Object","hasOwnProperty","onload","String","includes","search"],"mappings":"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","file":"main-min.js","sourcesContent":["/* ==========================================================================\n  Namespace\n   ========================================================================== */\n\nconst nine = {\n  fullscreen: false,\n  currentPageIndex: null,\n  currentPage: null,\n  canScroll: true,\n  scrollDuration: 750,\n  scrollContainer: document.getElementById('fullpage'),\n  pages: document.querySelectorAll('.section'),\n  scrollDirection: null,\n  prevTime: new Date().getTime(),\n  scrollHistory: [],\n  fullScreenWidthEnableFrom: 768,\n  fullScreenHeightEnableFrom: 672,\n  supports3d: false,\n  isTouchDevice: navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),\n  isTouch: (('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0) || (navigator.maxTouchPoints)),\n  touchStartY: 0,\n  touchEndY: 0,\n  touchSensitivity: 5\n};\n\n/* ==========================================================================\n  Support Checks & Enablers\n   ========================================================================== */\n\n/**\n* support3d - Checks for browser support of 3d transforms\n*\n* @returns {boolean}\n*\n* http://stackoverflow.com/questions/5661671/detecting-transform-translate3d-support\n*/\nnine.support3d = () => {\n  if (navigator.userAgent.toLowerCase().indexOf('edge') > -1) {\n    return false;\n  }\n\n  const el = document.createElement('p');\n  let has3d;\n  const transforms = {\n    webkitTransform: '-webkit-transform',\n    OTransform: '-o-transform',\n    msTransform: '-ms-transform',\n    MozTransform: '-moz-transform',\n    transform: 'transform'\n  };\n\n  // Add it to the body to get the computed style.\n  document.body.insertBefore(el, null);\n\n  for (const t in transforms) {\n    if (el.style[t] !== undefined) {\n      el.style[t] = 'translate3d(1px,1px,1px)';\n      has3d = window.getComputedStyle(el).getPropertyValue(transforms[t]);\n    }\n  }\n\n  document.body.removeChild(el);\n\n  return (has3d !== undefined && has3d.length > 0 && has3d !== 'none');\n};\n\n/**\n * checkFullscreen - Checks if window height is greater than any section.\n *\n * @returns {boolean}\n */\nnine.checkFullscreen = () => {\n  const windowHeight = nine.windowSize().h;\n  const windowWidth = nine.windowSize().w;\n\n  if (windowHeight >= nine.fullScreenHeightEnableFrom && windowWidth >= nine.fullScreenWidthEnableFrom) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * enableFullscreen - Adds CSS classes required for fullscreen supports3\n */\nnine.enableFullscreen = () => {\n  const html = document.getElementsByTagName('html')[0];\n\n  if (nine.checkFullscreen()) {\n    nine.fullscreen = true;\n    nine.addClass(document.body, 'fullscreen');\n\n    nine.css(html, {\n      overflow: 'hidden'\n    });\n\n    if (nine.supports3d === false) {\n      nine.addClass(document.body, 'no-css3');\n    }\n\n    const windowHeight = nine.windowSize().h + 'px';\n\n    Array.prototype.forEach.call(nine.pages, el => {\n      el.style.height = windowHeight;\n      el.style.minHeight = windowHeight;\n    });\n  } else {\n    nine.fullscreen = false;\n    nine.removeClass(document.body, 'fullscreen');\n    nine.css(html, {\n      overflow: 'auto'\n    });\n    nine.removeClass(document.body, 'no-css3');\n  }\n};\n\n/* ==========================================================================\n  Animations\n   ========================================================================== */\n\n/**\n * changeHeaderClass - Replaces current header classes with new className\n *                     for color chnage animation\n * @param {String} className Name of class to be added to header element\n */\nnine.changeHeaderClass = className => {\n  document.querySelector('.header').setAttribute('class', `header ${className}`);\n};\n\n/**\n * [animateLoad description]\n * @returns {[type]}\n */\nnine.animateLoad = () => {\n  window.setTimeout(() => {\n    document.body.classList.add('faded-in');\n    nine.masonaryHeight();\n\n    window.setTimeout(() => {\n      let hidden = document.querySelectorAll('.hide-left');\n      Array.prototype.forEach.call(hidden, el => {\n        el.classList.remove('hide-left');\n      });\n\n      hidden = document.querySelectorAll('.hide-right');\n      Array.prototype.forEach.call(hidden, el => {\n        el.classList.remove('hide-right');\n      });\n\n      hidden = document.querySelectorAll('.background-hide');\n      Array.prototype.forEach.call(hidden, el => {\n        el.classList.remove('background-hide');\n      });\n    }, 1000);\n  }, 1000);\n};\n\nnine.animatePortrait = () => {\n  const portrait = document.querySelector('.portrait .faded');\n\n  if (portrait) {\n    window.addEventListener('scroll', () => {\n      nine.portraitChange();\n    });\n  }\n};\n\nnine.portraitChange = () => {\n\n  if (!nine.fullscreen) {\n    const page = document.getElementById('about');\n    const offsetTop = page.offsetTop;\n\n    const portrait = document.querySelector('.portrait .faded');\n    const startPoint = 1.25;\n\n    if (nine.getScrolledPosition() > offsetTop * startPoint) {\n      if (portrait.style.opacity === '' || portrait.style.opacity === '0') {\n        portrait.style.opacity = 1;\n      }\n    } else if (portrait.style.opacity === '1') {\n      portrait.style.opacity = 0;\n    }\n  }\n};\n\n/**\n * pageTransisition - Chnages background color, fades out body and redirects to href\n * @param {String} href\n * @param {String} bg Background color\n */\nnine.pageTransisition = (href, bg) => {\n  if (!bg) {\n    bg = '#E6E6E4';\n  }\n\n  document.body.style.backgroundColor = bg;\n  document.body.classList.add('faded-out');\n\n  setTimeout(() => {\n    window.location.href = href;\n  }, 600);\n};\n\n/**\n * animateLinks - Gets all anchor elements and adds a call to pageTransisition() on click\n */\nnine.animateLinks = () => {\n  const anchorElements = document.getElementsByTagName('a');\n  Array.prototype.forEach.call(anchorElements, el => {\n    el.onclick = () => {\n      nine.pageTransisition(this.href, el.getAttribute('data-bg'));\n      return false;\n    };\n  });\n};\n\n/**\n * masonaryHeight - Calculates the correct height of the masonary element\n *                  for flex-box based masonary\n */\nnine.masonaryHeight = () => {\n  const masonary = document.querySelector('.masonary');\n  let lheight = 0;\n  let rheight = 0;\n\n  if (masonary) {\n    if (nine.windowSize().w >= 1024) {\n      const lblocks = document.querySelectorAll('.block.left');\n      const rblocks = document.querySelectorAll('.block.right');\n\n      Array.prototype.forEach.call(lblocks, el => {\n        lheight += el.offsetHeight;\n      });\n\n      Array.prototype.forEach.call(rblocks, el => {\n        rheight += el.offsetHeight;\n      });\n\n      let height;\n\n      if (lheight >= rheight) {\n        height = lheight;\n      } else {\n        height = rheight + 200;\n      }\n\n      height += 1;\n      masonary.style.height = height + 'px';\n    } else {\n      masonary.style.height = 'auto';\n    }\n  }\n};\n\n/* ==========================================================================\n  Fullscreen\n   ========================================================================== */\n\n/**\n * fullscreenMode - Setups fullscreen slideshow\n * @param   {Boolean} debounced Has be called after being debounced?\n */\nnine.fullscreenMode = debounced => {\n  if (nine.checkFullscreen() && nine.fullscreen === false) {\n    nine.enableFullscreen();\n    nine.hashChangeLisener();\n    nine.addFullscreenNav();\n    nine.addKeyboardNav();\n    nine.addScrollInput();\n    nine.setCurrentPage();\n    nine.enableTouch();\n  } else if (nine.checkFullscreen() === false && nine.fullscreen === true) { // Used to be on but now can't be so disable\n    nine.enableFullscreen(); // Will toggle off due to failing test\n    nine.removeFullscreenNav();\n    nine.removeKeyboardNav();\n    nine.removeScrollInput();\n    nine.disableTouch();\n  }\n\n  if (debounced) {\n    nine.resetPosition();\n  } else {\n    const fullscreenModeDebounced = nine.debounce(() => {\n      nine.fullscreenMode(true);\n    }, 250);\n    window.addEventListener('resize', fullscreenModeDebounced);\n  }\n};\n\n/* ==========================================================================\n   Scrolling\n   ========================================================================== */\n\n/**\n * setCurrentPage - Based on hash sets the fullscreen slideshow to the correct page.\n */\nnine.setCurrentPage = () => {\n  const section = nine.getHash();\n\n  if (section) {\n    const element = document.getElementById(section);\n\n    if (element) {\n      nine.updateCurrent(element);\n      nine.scrollStart(element); // Simulate start of scroll to set all calsses correctly.\n      nine.scrollToSection(element.id, 0); // Make sure we are definley at the correct section.\n    }\n  } else {\n    nine.updateCurrent(document.querySelectorAll('.section')[0]);\n  }\n};\n\n/**\n * updateHash - Adds a hash to url\n * @param {String} url The value the hash should be updated to.\n */\nnine.updateHash = url => {\n  window.location.hash = url;\n};\n\n/**\n * hashChangeLisener - Adds event listeners for hash change calling hashChangeHandler()\n */\nnine.hashChangeLisener = () => {\n  if (document.addEventListener) {\n    window.addEventListener('hashchange', nine.hashChangeHandler, false); // IE9, Chrome, Safari, Oper\n  } else {\n    window.attachEvent('onhashchange', nine.hashChangeHandler); // IE 6/7/8\n  }\n};\n\n/**\n * hashChangeHandler - Processes hash changes\n */\nnine.hashChangeHandler = () => {\n  const section = nine.getHash();\n\n  if (section && section !== nine.currentPage) {\n    nine.scrollToSection(section);\n  }\n};\n\n/**\n * scrollToSection - Scorlls slideshow to the section\n * @param {String}  elementId Id of the element to be scrolled to\n */\nnine.scrollToSection = (elementId, duration) => {\n  const element = document.getElementById(elementId);\n\n  if (element === null) {\n    return;\n  }\n\n  if (duration === null || duration === undefined) {\n    duration = nine.scrollDuration;\n  }\n\n  const newIndex = nine.getSectionIndex(element);\n\n  if (newIndex > nine.currentPageIndex) {\n    nine.scrollDirection = 'down';\n  } else if (newIndex < nine.currentPageIndex) {\n    nine.scrollDirection = 'up';\n  }\n\n  const destiny = element.offsetTop;\n\n  if (nine.supports3d) {\n    nine.translateScroll(destiny, element, duration);\n  } else {\n    nine.animateScroll(destiny, element, duration);\n  }\n};\n\n/**\n * translateScroll - Scroll Page using CSS3 transform and translate\n * @param {Integer} endLocation The location to scroll to in pixels\n * @param {Object}  element     The element we are scrolling to\n * @param {Integer} duration    How long in ms should we take to scroll\n */\nnine.translateScroll = (endLocation, element, duration) => {\n  const translate3d = 'translate3d(0px, -' + endLocation + 'px, 0px)';\n\n  if (duration > 0) {\n    const transition = 'all ' + duration + 'ms ease-in-out';\n\n    nine.removeClass(nine.scrollContainer, 'notransition');\n\n    nine.css(nine.scrollContainer, {\n      '-webkit-transition': transition,\n      transition\n    });\n\n    nine.css(document.querySelector('.portrait'), {\n      '-webkit-transition': transition,\n      transition\n    });\n  } else {\n    nine.addClass(nine.scrollContainer, 'notransition');\n  }\n\n  nine.scrollStart(element);\n  nine.canScroll = false;\n\n  nine.translatePortrait(endLocation, duration);\n  nine.setTransforms(nine.scrollContainer, translate3d);\n\n  setTimeout(() => {\n    nine.canScroll = true;\n    nine.scrollEnd(element);\n  }, duration);\n\n  // Syncronously removing the class after the animation has been applied.\n  setTimeout(() => {\n    nine.removeClass(nine.scrollContainer, 'notransition');\n  }, 10);\n};\n\n/**\n * translatePortrait - Move the portrait element along with the translate so it appears fixed.\n * @param   {Integer} endLocation The location to scroll to in pixels\n */\nnine.translatePortrait = endLocation => {\n  const portrait = document.querySelector('.portrait');\n  if (nine.windowSize().w >= 1024) {\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {\n      const top = endLocation + 'px';\n      nine.css(portrait, {top});\n    } else if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > 0) {\n      /* Microsoft Internet Explorer detected in 6-11. */\n      // Do nothing as posiution: fixed works as expected.\n    } else {\n      const portraitPosition = 'translate3d(0px, ' + endLocation + 'px, 0px)';\n      nine.setTransforms(portrait, portraitPosition);\n    }\n  } else {\n    document.querySelector('.portrait').removeAttribute('style');\n  }\n};\n\n/**\n * animateScroll - Scroll page with a jQuery-like scroll animation\n * @param {Integer} endLocation The location to scroll to in pixels\n * @param {Object}  element     The element we are scrolling to\n * @param {Integer} duration    How long in ms should we take to scroll\n */\nnine.animateScroll = (endLocation, element, duration) => {\n  if (duration === null) {\n    duration = nine.scrollDuration;\n  }\n\n  const start = nine.getScrolledPosition();\n  const startTime = 'now' in window.performance ? window.performance.now() : new Date().getTime();\n  const easing = function (t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; // Acceleration until halfway, then deceleration\n  };\n\n  const destinationOffsetToScroll = endLocation;\n\n  function scroll() {\n    nine.canScroll = false;\n\n    const now = 'now' in window.performance ? window.performance.now() : new Date().getTime();\n    const time = Math.min(1, ((now - startTime) / duration));\n    const timeFunction = easing(time);\n\n    const position = Math.ceil((timeFunction * (destinationOffsetToScroll - start)) + start);\n\n    if (nine.scrollContainer.scrollTop !== position) {\n      nine.scrollContainer.scrollTop = position;\n    }\n\n    //  console.log('Now: ' + now + ' Start Time: ' + startTime + ' Time: ' + time + ' TF: ' + timeFunction + ' Des: ' + destinationOffsetToScroll + ' Start: ' + start + ' = Pos:' + position + ' ScrolTop: ' + nine.scrollContainer.scrollTop);\n\n    if (position === destinationOffsetToScroll) {\n      nine.canScroll = true;\n      nine.scrollDirection = null;\n      nine.scrollEnd(element);\n      return;\n    }\n\n    window.requestAnimationFrame(scroll);\n  }\n\n  nine.scrollStart(element);\n  scroll();\n};\n\n/**\n * scrollStart - Called at scroll start and setups css classes for active sections, headers, etc\n * @param {Object} element Element we are scrolling to\n */\nnine.scrollStart = element => {\n  // Change header class - duration is same as slide duration for natural feel.\n  if (element.classList.contains('light')) {\n    nine.changeHeaderClass('dark');\n  } else {\n    nine.changeHeaderClass('light');\n  }\n\n  // Change menu colours dependent on slide\n  const header = document.querySelector('.header');\n  if (element.id === 'services') {\n    nine.addClass(header, 'menu-alt');\n  } else {\n    nine.removeClass(header, 'menu-alt');\n  }\n\n  // Delay until part way through scroll to chnages make feel smooth.\n  setTimeout(() => {\n    // Remove other active classes\n    const activePages = document.querySelector('.section.active');\n    if (activePages) {\n      nine.removeClass(activePages, 'active');\n      nine.removeClass(document.body, activePages.id + '-active');\n    }\n    nine.addClass(element, 'active');\n    nine.updateControls(nine.getSectionIndex(element));\n  }, nine.scrollDuration * 0.33);\n};\n\n /**\n  * scrollEnd - Called at scroll end aupdates hash, current page, controls, etc.\n  * @param {Object} element Element we are scrolling to\n  */\nnine.scrollEnd = element => {\n  if (element === null) {\n    return;\n  } // No element\n\n  // Update to new state.\n  nine.updateHash(element.id);\n  nine.updateCurrent(element);\n  nine.addClass(document.body, element.id + '-active');\n  nine.updateControls();\n};\n\n/**\n * updateCurrent - Updates globals to current values\n * @param {Object} element Element we are scrolling to\n */\nnine.updateCurrent = element => {\n  nine.currentPage = element.id;\n  nine.currentPageIndex = nine.getSectionIndex(element);\n};\n\n/**\n * getScrolledPosition - Get the current Scroll position of the browser\n * @returns {Integer} ScrollTop in pixels\n */\nnine.getScrolledPosition = () => {\n  return document.documentElement.scrollTop || nine.scrollContainer.scrollTop || document.body.scrollTop;\n};\n\n/**\n * resetPosition - Resets fullscreen to correct position after browser resize event\n */\nnine.resetPosition = () => {\n  if (nine.fullscreen === true) {\n    let section;\n\n    if (nine.currentPage === null) {\n      section = document.querySelectorAll('.sections')[0];\n      nine.currentPage = section.id;\n      nine.currentPageIndex = 0;\n    } else {\n      section = document.getElementById(nine.currentPage);\n    }\n\n    // Reset height\n    const windowHeight = nine.windowSize().h + 'px';\n\n    Array.prototype.forEach.call(nine.pages, el => {\n      el.style.height = windowHeight;\n      el.style.minHeight = windowHeight;\n    });\n\n    const destiny = section.offsetTop;\n\n    if (nine.supports3d) {\n      nine.translateScroll(destiny, section, 0);\n    } else {\n      nine.animateScroll(destiny, section, 0);\n    }\n  }\n};\n\n/* ==========================================================================\n   Controls\n   ==========================================================================\n\n/**\n * addFullscreenNav - adds dots and next & prev controls to site with event handlers\n */\nnine.addFullscreenNav = () => {\n  const controls = document.querySelector('.controls');\n\n  if (controls) {\n    controls.classList.add('on');\n\n    const nav = document.querySelector('.dots');\n\n    if (nav) {\n      Array.prototype.forEach.call(nine.pages, (el, i) => {\n        const dot = document.createElement('li');\n        dot.setAttribute('data-page', i);\n        nav.appendChild(dot);\n        dot.addEventListener('click', element => nine.dotClick(element));\n      });\n\n      document.querySelector('.dots li').classList.add('active');\n\n      document.querySelector('.next').addEventListener('click', nine.arrowNextClickHandler);\n      document.querySelector('.prev').addEventListener('click', nine.arrowPrevClickHandler);\n\n      nine.updateControls();\n    }\n  }\n};\n\n/**\n * removeFullscreenNav - remove dots and next & prev controls to site and event handlers\n */\nnine.removeFullscreenNav = () => {\n  const controls = document.querySelector('.controls');\n\n  if (controls) {\n    controls.classList.remove('on');\n\n    const nav = document.querySelector('.dots');\n    const dots = document.querySelectorAll('.dots li');\n\n    if (nav && dots) {\n      Array.prototype.forEach.call(dots, el => {\n        el.parentNode.removeChild(el);\n      });\n\n      document.querySelector('.next').removeEventListener('click', nine.arrowNextClickHandler);\n      document.querySelector('.prev').removeEventListener('click', nine.arrowPrevClickHandler);\n    }\n  }\n};\n\n/**\n * arrowNextClickHandler\n */\nnine.arrowNextClickHandler = () => {\n  nine.nextPage();\n};\n\n/**\n * arrowPrevClickHandler\n */\nnine.arrowPrevClickHandler = () => {\n  nine.prevPage();\n};\n\n/**\n * dotClick - Handler for dot clicks\n * @param   {Object} element\n * @param   {Boolean} repeat True if called recurvisley\n */\nnine.dotClick = (element, repeat) => {\n  if (repeat === null) {\n    repeat = false;\n  }\n\n  document.querySelector('.dots li.active').classList.remove('active');\n  const newPageIndex = element.target.getAttribute('data-page');\n  document.querySelectorAll('.dots li')[newPageIndex].classList.add('active');\n\n  const section = nine.pages[newPageIndex].id;\n\n  if (nine.canScroll) {\n    nine.scrollToSection(section);\n  } else if (repeat === false) {\n    // Is currently scrolling. Try again after duration.\n    setTimeout(() => {\n      nine.dotClick(element, true);\n    }, nine.scrollDuration);\n  }\n};\n\n/**\n * updateControls - Update controls to new values\n * @param   {Integer} newIndex Index of the new slide in slides array\n */\nnine.updateControls = newIndex => {\n  if (newIndex === undefined) {\n    newIndex = null;\n  }\n\n  if (newIndex === null && nine.currentPageIndex === null) {\n    newIndex = 0;\n  } else if (newIndex === null && nine.currentPageIndex !== null) {\n    newIndex = nine.currentPageIndex;\n  }\n\n  const active = document.querySelector('.dots li.active');\n\n  if (active) {\n    document.querySelector('.dots li.active').classList.remove('active');\n  }\n\n  document.querySelectorAll('.dots li')[newIndex].classList.add('active');\n\n  document.querySelector('.next').classList.remove('disabled');\n  document.querySelector('.prev').classList.remove('disabled');\n\n  if (newIndex === 0) {\n    document.querySelector('.prev').classList.add('disabled');\n  }\n\n  if (newIndex === nine.pages.length - 1) {\n    document.querySelector('.next').classList.add('disabled');\n  }\n};\n\n/**\n * nextPage - Navigates to next page\n * @param   {Boolean} repeat True if called recurvisley\n */\nnine.nextPage = repeat => {\n  if (repeat === null) {\n    repeat = false;\n  }\n\n  if (nine.currentPageIndex + 1 < nine.pages.length && nine.canScroll) {\n    const nextPage = nine.pages[nine.currentPageIndex + 1].id;\n    nine.scrollToSection(nextPage);\n    return true;\n  } else if (nine.currentPageIndex + 1 < nine.pages.length && repeat === false) {\n    setTimeout(() => {\n      nine.nextPage(true);\n    }, nine.scrollDuration);\n  }\n  return false;\n};\n\n/**\n * prevPage - Navigates to prev page\n * @param   {Boolean} repeat True if called recurvisley\n */\nnine.prevPage = repeat => {\n  if (repeat === null) {\n    repeat = false;\n  }\n\n  if (nine.currentPageIndex - 1 >= 0 && nine.canScroll) {\n    const prevPage = nine.pages[nine.currentPageIndex - 1].id;\n    nine.scrollToSection(prevPage);\n    return true;\n  } else if (nine.currentPageIndex - 1 >= 0 && repeat === false) {\n    setTimeout(() => {\n      nine.prevPage(true);\n    }, nine.scrollDuration);\n  }\n  return false;\n};\n\n/* ==========================================================================\n  keyboard\n  ========================================================================== */\n\n/**\n * addKeyboardNav - Allow for buttons presses to navigate fullscreen slideshow\n */\nnine.addKeyboardNav = () => {\n  document.onkeydown = function (event) {\n    if (!event) {\n      event = window.event;\n    }\n\n    let code = event.keyCode;\n\n    if (event.charCode && code === 0) {\n      code = event.charCode;\n    }\n\n    switch (code) {\n      case 38: // Up\n        event.preventDefault();\n        nine.prevPage();\n        break;\n      case 40: // Down\n        event.preventDefault();\n        nine.nextPage();\n        break;\n      case 32: // Space\n        event.preventDefault();\n        nine.nextPage();\n        break;\n      case 33: // Page up\n        event.preventDefault();\n        nine.prevPage();\n        break;\n      case 34: // Page down\n        event.preventDefault();\n        nine.nextPage();\n        break;\n      default:\n    }\n  };\n};\n\n/**\n * removeKeyboardNav - removes key press event handlers\n */\nnine.removeKeyboardNav = () => {\n  document.onkeydown = null;\n};\n\n/* ==========================================================================\n  Scrolling\n   ========================================================================== */\n\n/**\n * addScrollInput - Handle scroll input to naviagte to slides\n */\nnine.addScrollInput = () => {\n  const wrapper = window;\n\n  if (wrapper.addEventListener) {\n    wrapper.addEventListener('mousewheel', nine.mouseWheelHandler, false); // Ie9, chrome, safari, opera use mousewheel\n\n    wrapper.addEventListener('wheel', nine.mouseWheelHandler, false); // firefox\n  } else {\n    wrapper.attachEvent('onmousewheel', nine.mouseWheelHandler); // IE 6/7/8 not really supported anyway\n  }\n};\n\n/**\n * removeScrollInput - Remove scroll handling\n */\nnine.removeScrollInput = () => {\n  const wrapper = window;\n\n  if (wrapper.addEventListener) {\n    wrapper.removeEventListener('mousewheel', nine.mouseWheelHandler, false); // Ie9, chrome, safari, opera use mousewheel\n\n    wrapper.removeEventListener('wheel', nine.mouseWheelHandler, false); // Firefox\n  } else {\n    wrapper.detachEvent('onmousewheel', nine.mouseWheelHandler); // IE 6/7/8 not really supported anyway\n  }\n};\n\n/**\n * mouseWheelHandler - Process wheel events to scroll to next or prev section\n * @param   {Object} e Scroll event\n * Line 1099: https://github.com/alvarotrigo/fullPage.js/blob/master/pure%20javascript%20(Alpha)/javascript.fullPage.js\n * https://www.sitepoint.com/html5-javascript-mouse-wheel/\n */\nnine.mouseWheelHandler = e => {\n  nine.preventDefault(e); // Prevent normall scrolling\n\n  const curTime = new Date().getTime();\n\n  // Cross-browser wheel delta\n  e = window.event || e || e.originalEvent;\n\n  const value = e.wheelDelta || -e.deltaY || -e.detail;\n  const delta = Math.max(-1, Math.min(1, value));\n\n  // Limiting the array to 150 (lets not waist memory!)\n  if (nine.scrollHistory.length > 149) {\n    nine.scrollHistory.shift(); // Rmeoves first element\n  }\n\n  // Keeping record of the previous scrollings\n  nine.scrollHistory.push(Math.abs(value));\n\n  const timeDiff = curTime - nine.prevTime;\n  nine.prevTime = curTime;\n\n  // Haven't they scrolled in a while?\n  // (enough to be consider a different scrolling action to scroll another section)\n  if (timeDiff > 200) {\n    // Emptying the array, we dont care about old scrollings for our averages\n    nine.scrollHistory = [];\n  }\n\n  function getAverage(elements, number) {\n    let sum = 0;\n\n    // Taking `number` elements from the end to make the average, if there are not enought, 1\n    const lastElements = elements.slice(Math.max(elements.length - number, 1));\n\n    for (let i = 0; i < lastElements.length; i++) {\n      sum += lastElements[i];\n    }\n    return Math.ceil(sum / number);\n  }\n\n  if (nine.canScroll) {\n    const averageEnd = getAverage(nine.scrollHistory, 10);\n    const averageMiddle = getAverage(nine.scrollHistory, 70);\n    const isAccelerating = averageEnd >= averageMiddle;\n\n    if (isAccelerating) {\n      if (delta < 0) { // Scrolling down?\n        nine.nextPage();\n      } else { // Scrolling up?\n        nine.prevPage();\n      }\n    }\n  }\n\n  return false;\n};\n\n/* ==========================================================================\n  Touch\n   ========================================================================== */\n\n/**\n * enableTouch\n */\nnine.enableTouch = () => {\n  if (nine.isTouchDevice || nine.isTouch) {\n    window.addEventListener('touchstart', nine.touchStartHandler, {passive: false});\n    window.addEventListener('touchmove', nine.touchMoveHandler, {passive: false});\n  }\n};\n\n/**\n * disableTouch\n */\nnine.disableTouch = () => {\n  if (nine.isTouchDevice || nine.isTouch) {\n    window.removeEventListener('touchstart', nine.touchStartHandler, {passive: false});\n    window.removeEventListener('touchmove', nine.touchMoveHandler, {passive: false});\n  }\n};\n\n/**\n* touchStartHandler - on touch start record touch start positions\n* @param   {object} event\n*/\nnine.touchStartHandler = event => {\n  const e = window.event || event || event.originalEvent;\n\n  if (nine.isReallyTouch(e)) {\n    const touchEvents = nine.getEventsPage(e);\n    nine.touchStartY = touchEvents.y;\n    nine.touchStartX = touchEvents.x;\n  }\n};\n\n/**\n* touchMoveHandler - on touch move calulate the direction and call next or prev if valid\n* @param   {object} event\n*/\nnine.touchMoveHandler = event => {\n  const e = window.event || event || event.originalEvent;\n\n  if (nine.isReallyTouch(e)) {\n    nine.preventDefault(event);\n\n    const touchEvents = nine.getEventsPage(e);\n\n    if (nine.canScroll) {\n      nine.touchEndY = touchEvents.y;\n\n      if (Math.abs(nine.touchStartY - nine.touchEndY) > (nine.windowSize().h / 100 * nine.touchSensitivity)) {\n        if (nine.touchStartY > nine.touchEndY) { // down\n          nine.nextPage();\n        } else if (nine.touchEndY > nine.touchStartY) { // up\n          nine.prevPage();\n        }\n      }\n    }\n  }\n};\n\n/**\n* isReallyTouch - As IE >= 10 fires both touch and mouse events when using a mouse in a touchscreen\n*                 this way we make sure that is really a touch event what IE is detecting.\n* @param   {object}  e touch event\n* @returns {Boolean}\n*/\nnine.isReallyTouch = e => {\n // If is not IE   ||  IE is detecting `touch` or `pen`\n  return typeof e.pointerType === 'undefined' || e.pointerType !== 'mouse';\n};\n\n/**\n* getEventsPage - Gets the pageX and pageY properties depending on the browser.\n*                 https://github.com/alvarotrigo/fullPage.js/issues/194#issuecomment-34069854\n* @param   {object} e touch event\n* @returns {object}\n*/\nnine.getEventsPage = e => {\n  const events = [];\n\n  events.y = (typeof e.pageY !== 'undefined' && (e.pageY || e.pageX) ? e.pageY : e.touches[0].pageY);\n  events.x = (typeof e.pageX !== 'undefined' && (e.pageY || e.pageX) ? e.pageX : e.touches[0].pageX);\n\n  return events;\n};\n\n/* ==========================================================================\n   Helpers\n   ==========================================================================\n\n/**\n * getHash - gets current hash value\n */\nnine.getHash = () => {\n  const value = window.location.hash.replace('#', '').split('/');\n  return value[0];\n};\n\n/**\n * addClass\n * @param {Object} element\n * @param {String} className\n */\nnine.addClass = (element, className) => {\n  if (element && !nine.hasClass(element, className)) {\n    element.classList.add(className);\n  }\n};\n\n /**\n  * removeClass\n  * @param {Object} element\n  * @param {String} className\n  */\nnine.removeClass = (element, className) => {\n  if (element && nine.hasClass(element, className)) {\n    element.classList.remove(className);\n  }\n};\n\n/**\n * hasClass - Checks if element has class\n * @param   {Object}  element\n * @param   {String}  className\n * @returns {Boolean}\n */\nnine.hasClass = (element, className) => {\n  return element.classList.contains(className);\n};\n\n/**\n * getSectionIndex - Get the index of an element in the slides array\n * @param   {Object} element\n * @returns {Integer}\n */\nnine.getSectionIndex = element => {\n  let index;\n\n  Array.prototype.forEach.call(nine.pages, (el, i) => {\n    if (el === element) {\n      index = i;\n    }\n  });\n\n  return index;\n};\n\n/**\n * windowSize - Reliably gets window sizes\n * @param   {Object} w The window to use.\n * @returns {Object} {w: width, h: height}\n */\nnine.windowSize = w => {\n  // Use the specified window or the current window if no argument\n  w = w || window;\n\n  // This works for all browsers except IE8 and before\n  if (w.innerWidth !== null) {\n    return {w: w.innerWidth, h: w.innerHeight};\n  }\n\n  // For IE (or any browser) in Standards mode\n  const d = w.document;\n  if (document.compatMode === 'CSS1Compat') {\n    return {w: d.documentElement.clientWidth,\n      h: d.documentElement.clientHeight};\n  }\n\n  // For browsers in Quirks mode\n  return {w: d.body.clientWidth, h: d.body.clientHeight};\n};\n\n/**\n * debounce - Debounces actions be with a timer.\n * @param   {Object}  func      Function to be called\n * @param   {Integer} wait      How long to wasit until call\n * @param   {Boolean} immediate Call it immediately?\n */\nnine.debounce = (func, wait, immediate) => {\n  let timeout;\n  return function () {\n    const context = this;\n    const args = arguments;\n    const later = function () {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n\n/**\n * preventDefault\n * @param   {Object} event\n */\nnine.preventDefault = event => {\n  if (event.preventDefault) {\n    event.preventDefault();\n  } else {\n    event.returnValue = false;\n  }\n};\n\n/**\n * setTransforms - adds CSS treansform to an element\n * @param {Object} element\n * @param {String} translate3d\n */\nnine.setTransforms = (element, translate3d) => {\n  nine.css(element, {\n    '-webkit-transform': translate3d,\n    '-moz-transform': translate3d,\n    '-ms-transform': translate3d,\n    transform: translate3d\n  });\n};\n\n/**\n * css - add CSS to an element\n * @param {Object} el\n * @param {Object} props\n */\nnine.css = (el, props) => {\n  let key;\n  for (key in props) {\n    if (Object.prototype.hasOwnProperty.call(props, key)) {\n      if (key !== null) {\n        el.style[key] = props[key];\n      }\n    }\n  }\n  return el;\n};\n\n/* ==========================================================================\n  Document Load\n   ========================================================================== */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  nine.supports3d = nine.support3d();\n\n  nine.masonaryHeight();\n  nine.animateLinks();\n  nine.animatePortrait();\n\n  window.addEventListener('resize', () => {\n    nine.masonaryHeight();\n  });\n\n  nine.translatePortrait();\n  nine.fullscreenMode();\n});\n\n/* ==========================================================================\n  Window Load\n   ========================================================================== */\n\nwindow.onload = () => {\n  nine.animateLoad();\n  nine.masonaryHeight();\n};\n\n/* ==========================================================================\n    Polyfils\n   ========================================================================== */\n\nif (!String.prototype.includes) {\n  String.prototype.includes = function (search, start) {\n    if (typeof start !== 'number') {\n      start = 0;\n    }\n\n    if (start + search.length > this.length) {\n      return false;\n    }\n\n    return this.indexOf(search, start) !== -1;\n  };\n}\n"]}