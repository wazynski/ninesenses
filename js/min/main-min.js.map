{"version":3,"sources":["../main.js"],"names":["nine","scrollSpy","section","document","querySelectorAll","sections","i","Array","prototype","forEach","call","el","classes","className","replace","trim","top","offsetTop","console","log","scrolled","getElementById","addEventListener","event","scrollPosition","documentElement","scrollTop","includes","changeHeaderClass","querySelector","setAttribute","animateLoad","body","window","setTimeout","hidden","classList","remove","scrollHandler","pageId","scrollToPage","stopAnimationIfRequired","pos","endLocation","cancelAnimationFrame","runAnimation","canScroll","startLocation","viewStart","pageStart","distance","timeLapsed","percentage","position","easing","progress","animate","duration","requestAnimationFrame","page","timeout","preventDefault","pageHeight","scrollHeight","pageStopPortion","viewHeight","innerHeight","viewEnd","pageStartPart","pageEndPart","canJumpDown","stopJumpDown","canJumpUp","stopJumpUp","scrollingForward","deltaY","onload"],"mappings":"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","file":"main-min.js","sourcesContent":["var nine = {};\n\n/* ==========================================================================\n  nine.scrollSpy()\n========================================================================== */\n\nnine.scrollSpy = () => {\n  var section = document.querySelectorAll(\".section\");\n  var sections = {};\n  var i = 0;\n\n  Array.prototype.forEach.call(section, function(el, i) {\n    sections[i] = {\n      classes: el.className.replace('section', '').trim(),\n      top: el.offsetTop - 50,\n    }\n  });\n\n  console.log(sections);\n  var scrolled = document.getElementById('scroll');\n\n  scrolled.addEventListener('scroll', function(event) {\n\n    var scrollPosition = document.documentElement.scrollTop || scrolled.scrollTop;\n\n    for (i in sections) {\n      if (sections[i].top <= scrollPosition) {\n        if (sections[i].classes.includes('light')) {\n          nine.changeHeaderClass('dark');\n        } else {\n          nine.changeHeaderClass('light');\n        }\n      }\n    }\n  });\n};\n\n/* ==========================================================================\n  nine.chnageHeaderClass\n   ========================================================================== */\n\nnine.changeHeaderClass = (className) => {\n  document.querySelector('.header').setAttribute('class', `header ${className}`);\n};\n\n/* ==========================================================================\n  nine.animatation()\n   ========================================================================== */\n\n nine.animateLoad = () => {\n   document.body.className = '';\n\n   window.setTimeout(() => {\n     var hidden = document.querySelectorAll(\".hide-left\");\n     Array.prototype.forEach.call(hidden, function(el, i) {\n       el.classList.remove('hide-left');\n     });\n\n     var hidden = document.querySelectorAll(\".hide-down\");\n     Array.prototype.forEach.call(hidden, function(el, i) {\n       el.classList.remove('hide-down');\n     });\n   }, 1000)\n };\n\n /* ==========================================================================\n  nine.scrollHandler()\n   ========================================================================== */\n\n// Constructor cannot be ES6 arrow\nnine.scrollHandler = function(pageId) {\n  var page = document.getElementById(pageId);\n  var pageStart = page.offsetTop;\n  var canScroll = true;\n  var viewStart;\n  var duration = 1000;\n  var scrolled = document.getElementById('scroll');\n  var timeout = null;\n\n  function scrollToPage() {\n    canScroll = false;\n\n    // Calculate how far to scroll\n    var startLocation = viewStart;\n    var endLocation = pageStart;\n    var distance = endLocation - startLocation;\n\n    var runAnimation;\n\n    // Set the animation variables to 0/undefined.\n    var timeLapsed = 0;\n    var percentage, position;\n\n    var easing = function (progress) {\n      return progress < 0.5 ? 4 * progress * progress * progress : (progress - 1) * (2 * progress - 2) * (2 * progress - 2) + 1; // acceleration until halfway, then deceleration\n    };\n\n    function stopAnimationIfRequired(pos) {\n      if (pos == endLocation) {\n        cancelAnimationFrame(runAnimation);\n        canScroll = true;\n      }\n    }\n\n    var animate = function () {\n      timeLapsed += 16;\n      percentage = timeLapsed / duration;\n      if (percentage > 1) {\n        percentage = 1;\n        position = endLocation;\n      } else {\n        position = startLocation + distance * easing(percentage);\n      }\n      scrolled.scrollTop = position;\n      runAnimation = requestAnimationFrame(animate);\n      stopAnimationIfRequired(position);\n    };\n\n    // Loop the animation function\n    runAnimation = requestAnimationFrame(animate);\n  }\n\n  window.addEventListener('wheel', function(event) {\n    if (timeout !== null) {\n        event.preventDefault();\n        return false;\n    }\n\n    //Get the top of the scroll start\n    viewStart = scrolled.scrollTop;\n\n    if (canScroll) {\n      timeout = setTimeout(function(){ timeout = null; }, duration * 1.5);\n\n      var pageHeight = page.scrollHeight;\n      var pageStopPortion = pageHeight / 2;\n      var viewHeight = window.innerHeight;\n\n      var viewEnd = viewStart + viewHeight;\n      var pageStartPart = viewEnd - pageStart;\n      var pageEndPart = (pageStart + pageHeight) - viewStart;\n\n      var canJumpDown = pageStartPart >= 0;\n      var stopJumpDown = pageStartPart > pageStopPortion;\n\n      var canJumpUp = pageEndPart >= 0;\n      var stopJumpUp = pageEndPart > pageStopPortion;\n\n      var scrollingForward = event.deltaY > 0;\n\n      if (  ( scrollingForward && canJumpDown && !stopJumpDown)\n         || (!scrollingForward && canJumpUp   && !stopJumpUp)) {\n        event.preventDefault();\n        scrollToPage();\n      }\n    } else {\n     event.preventDefault();\n    }\n  });\n}\n\n\n/* ==========================================================================\n  Document Load\n   ========================================================================== */\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  nine.scrollSpy();\n\n  new nine.scrollHandler('one');\n  new nine.scrollHandler('two');\n  new nine.scrollHandler('three');\n  new nine.scrollHandler('four');\n});\n\n\n/* ==========================================================================\n  Window Load\n   ========================================================================== */\n\nwindow.onload = () => {\n  nine.animateLoad();\n};\n"]}