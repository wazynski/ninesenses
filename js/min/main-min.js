"use strict";var nine={sticky:!1,currentPageIndex:null,currentPage:null,canScroll:!0,scrollDuration:750,scrollContainer:document.getElementById("scroll"),pages:document.querySelectorAll(".section"),scrollDirection:null};String.prototype.includes||(String.prototype.includes=function(e,n){return"number"!=typeof n&&(n=0),!(n+e.length>this.length)&&-1!==this.indexOf(e,n)}),nine.checkSticky=function(){return!1},nine.changeHeaderClass=function(e){document.querySelector(".header").setAttribute("class","header "+e)},nine.animateLoad=function(){window.setTimeout(function(){document.body.classList.add("faded-in"),nine.masonaryHeight(),window.setTimeout(function(){var e=document.querySelectorAll(".hide-left");Array.prototype.forEach.call(e,function(e){e.classList.remove("hide-left")});var e=document.querySelectorAll(".hide-down");Array.prototype.forEach.call(e,function(e){e.classList.remove("hide-down")})},1e3)},1e3)},nine.animatePortrait=function(){var e=document.querySelector(".portrait .faded");if(e){var n=function(){var n=document.documentElement.scrollTop||nine.scrollContainer.scrollTop;nine.windowSize().w>1280?o=.5:nine.windowSize().w<1024&&(i=t.offsetHeight+document.getElementById("intro").offsetHeight-e.offsetHeight),n>i*o?0==e.style.opacity&&(e.style.opacity=1):1==e.style.opacity&&(e.style.opacity=0)},t=document.getElementById("about"),i=t.offsetTop,o=.98;nine.scrollContainer.addEventListener("scroll",function(){n()})}},nine.pageTransisition=function(e,n){n||(n="#E6E6E4"),document.body.style.backgroundColor=n,document.body.classList.add("faded-out"),setTimeout(function(){window.location.href=e},600)},nine.masonaryHeight=function(){var e=document.querySelector(".masonary"),n=0,t=0;if(e)if(nine.windowSize().w>=1024){var i=document.querySelectorAll(".block.left"),o=document.querySelectorAll(".block.right");Array.prototype.forEach.call(i,function(e){n+=e.offsetHeight}),Array.prototype.forEach.call(o,function(e){t+=e.offsetHeight});var r=void 0;r=n>=t?n:t,r+=100,e.style.height=r+"px"}else e.style.height="auto"},nine.animateLinks=function(){var e=document.getElementsByTagName("a");Array.prototype.forEach.call(e,function(e){e.onclick=function(){return nine.pageTransisition(this.href,e.getAttribute("data-bg"),e.getAttribute("data-slide")),!1}})},nine.setCurrentPage=function(){var e=nine.getHash();if(e){var n=document.getElementById(e);n&&(nine.updateCurrent(n),nine.scrollStart(n),nine.scrollToSection(n.id))}else nine.updateCurrent(document.querySelectorAll(".section")[0])},nine.updateHash=function(e){window.location.hash=e},nine.hashChangeLisener=function(){document.addEventListener?window.addEventListener("hashchange",nine.hashChangeHandler,!1):window.attachEvent("onhashchange",nine.hashChangeHandler)},nine.hashChangeHandler=function(){var e=nine.getHash();e&&e!=nine.currentPage&&nine.scrollToSection(e)},nine.scrollToSection=function(e,n){var t=document.getElementById(e);if(null!=t){var i=nine.scrollDuration,o=nine.calculateDestiny(t,n);nine.animateScoll(o,t,i)}},nine.calculateOffset=function(){var e=0;if(nine.sticky){if(nine.currentPageIndex+1<nine.pages.length){var n,t=document.getElementById(nine.pages[nine.currentPageIndex+1].id).offsetTop;n=nine.currentPageIndex-1>=0?nine.pages[nine.currentPageIndex-1].id:nine.pages[nine.currentPageIndex].id;var i=document.getElementById(n),o=i.offsetTop+i.offsetHeight;t!=o&&(e=o-t)}else{var r=document.documentElement.scrollTop||nine.scrollContainer.scrollTop,a=document.getElementById(nine.pages[nine.currentPageIndex].id).offsetTop;r!=a&&(e=r-a)}return e}return 0},nine.calculateGap=function(e,n,t){for(var i=Math.abs(nine.currentPageIndex-e)-1,o=1;o<=i;o++){nine.pages[nine.currentPageIndex-o].id;t+=n.offsetHeight}return t+=nine.calculateOffset()},nine.calculateDestiny=function(e,n){void 0===n&&(n=0);var t=nine.getSectionIndex(e);if(t>nine.currentPageIndex)nine.scrollDirection="down";else{if(!(t<nine.currentPageIndex))return;nine.scrollDirection="up",nine.sticky&&(n=nine.calculateGap(t,e,n))}return"up"===nine.scrollDirection&&!0===nine.sticky?e.offsetTop-e.offsetHeight-n:e.offsetTop-n},nine.animateScoll=function(e,n,t){function i(n){n==e&&(cancelAnimationFrame(a),o())}function o(){nine.canScroll=!0,nine.scrollDirection=null,nine.scrollEnd(n)}if(null!=e){var r=nine.getScrolledPosition();nine.canScroll=!1,null==t&&(t=nine.scrollDuration);var a,c,l,s=e-r,u=0,d=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},f=function n(){u+=16,c=u/t,c>1?(c=1,l=e):l=r+s*d(c),nine.scrollContainer.scrollTop=l,a=requestAnimationFrame(n),i(l)};nine.scrollStart(n),a=requestAnimationFrame(f)}},nine.scrollStart=function(e){e.classList.value.includes("light")?nine.changeHeaderClass("dark"):nine.changeHeaderClass("light"),setTimeout(function(){var n=document.querySelector(".section.active");n&&(nine.removeClass(n,"active"),nine.removeClass(document.body,n.id+"-active")),nine.addClass(e,"active"),nine.updateControls(nine.getSectionIndex(e))},.33*nine.scrollDuration)},nine.scrollEnd=function(e){null!=e&&(nine.updateHash(e.id),nine.updateCurrent(e),nine.updateControls(),nine.addClass(document.body,e.id+"-active"))},nine.updateCurrent=function(e){nine.currentPage=e.id,nine.currentPageIndex=nine.getSectionIndex(e)},nine.getScrolledPosition=function(){return document.documentElement.scrollTop||nine.scrollContainer.scrollTop},nine.setupControls=function(){var e=document.querySelector(".dots");e&&(Array.prototype.forEach.call(nine.pages,function(n,t){var i=document.createElement("li");i.setAttribute("data-page",t),e.appendChild(i),i.addEventListener("click",function(e){return nine.dotClick(e)})}),document.querySelector(".dots li").classList.add("active"),document.querySelector(".next").addEventListener("click",function(){return nine.nextPage()}),document.querySelector(".prev").addEventListener("click",function(){return nine.prevPage()}),nine.updateControls())},nine.dotClick=function(e,n){null==n&&(n=!1),document.querySelector(".dots li.active").classList.remove("active");var t=e.target.getAttribute("data-page");document.querySelectorAll(".dots li")[t].classList.add("active");var i=nine.pages[t].id;nine.canScroll?nine.scrollToSection(i):0==n&&setTimeout(function(){console.log("try again"),nine.dotClick(e,!0)},nine.scrollDuration)},nine.updateControls=function(e){null==e&&(e=nine.currentPageIndex),document.querySelector(".dots li.active").classList.remove("active"),document.querySelectorAll(".dots li")[e].classList.add("active"),document.querySelector(".next").classList.remove("disabled"),document.querySelector(".prev").classList.remove("disabled"),0==e&&document.querySelector(".prev").classList.add("disabled"),e==nine.pages.length-1&&document.querySelector(".next").classList.add("disabled")},nine.nextPage=function(e){if(null==e&&(e=!1),nine.currentPageIndex+1<nine.pages.length&&nine.canScroll){var n=nine.pages[nine.currentPageIndex+1].id;return nine.scrollToSection(n),!0}return nine.currentPageIndex+1<nine.pages.length&&0==e&&setTimeout(function(){console.log("try again"),nine.nextPage(!0)},nine.scrollDuration),!1},nine.prevPage=function(e){if(null==e&&(e=!1),nine.currentPageIndex-1>=0&&nine.canScroll){var n=nine.pages[nine.currentPageIndex-1].id;return nine.scrollToSection(n),!0}return nine.currentPageIndex-1>=0&&0==e&&setTimeout(function(){console.log("try again"),nine.prevPage(!0)},nine.scrollDuration),!1},nine.keyboardNav=function(){document.onkeydown=function(e){e||(e=window.event);var n=e.keyCode;switch(e.charCode&&0==n&&(n=e.charCode),n){case 38:e.preventDefault(),nine.prevPage();break;case 40:case 32:e.preventDefault(),nine.nextPage();break;case 33:e.preventDefault(),nine.prevPage();break;case 34:e.preventDefault(),nine.nextPage()}}},nine.getHash=function(){return window.location.hash.replace("#","").split("/")[0]},nine.addClass=function(e,n){e&&!nine.hasClass(e,n)&&e.classList.add(n)},nine.removeClass=function(e,n){e&&nine.hasClass(e,n)&&e.classList.remove(n)},nine.hasClass=function(e,n){return e.classList.contains(n)},nine.getSectionIndex=function(e){var n;return Array.prototype.forEach.call(nine.pages,function(t,i){t==e&&(n=i)}),n},nine.windowSize=function(e){if(e=e||window,null!=e.innerWidth)return{w:e.innerWidth,h:e.innerHeight};var n=e.document;return"CSS1Compat"==document.compatMode?{w:n.documentElement.clientWidth,h:n.documentElement.clientHeight}:{w:n.body.clientWidth,h:n.body.clientHeight}},nine.debounce=function(e,n,t){var i;return function(){var o=this,r=arguments,a=function(){i=null,t||e.apply(o,r)},c=t&&!i;clearTimeout(i),i=setTimeout(a,n),c&&e.apply(o,r)}},document.addEventListener("DOMContentLoaded",function(){nine.sticky=nine.checkSticky(),nine.masonaryHeight(),nine.animateLinks();var e=nine.debounce(function(){nine.sticky=nine.checkSticky()},250);window.addEventListener("resize",e),window.addEventListener("resize",function(){nine.masonaryHeight()}),nine.setCurrentPage(),nine.hashChangeLisener(),nine.setupControls(),nine.keyboardNav()}),window.onload=function(){nine.animateLoad(),nine.animatePortrait(),nine.masonaryHeight()};
//# sourceMappingURL=./main-min.js.map